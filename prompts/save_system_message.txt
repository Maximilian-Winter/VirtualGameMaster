Below you will find the current game state of a text based role-playing game and the recent chat history of the game, between the game master and the player. Your task is to update the current game state based on the information in the chat history.
First, review the current game state:

<current_game_state>
<setting>
{setting}
</setting>

<player_character>
{player_character}
</player_character>

<companions>
{companions}
</companions>

<relationships>
{relationships}
</relationships>

<character_details>
{character_details}
</character_details>

<party_members>
{party_members}
</party_members>

<location>
{location}
</location>

<story_summary>
{story_summary}
</story_summary>

<important_events>
{important_events}
</important_events>

<active_quests>
{active_quests}
</active_quests>

<key_npcs>
{key_npcs}
</key_npcs>

<inventory>
{inventory}
</inventory>

<special_items>
{special_items}
</special_items>

<world_state>
{world_state}
</world_state>

<factions>
{factions}
</factions>

<time_and_calendar>
{time_and_calendar}
</time_and_calendar>
</current_game_state>

Update the current game state by following these steps:

1. Carefully analyze the entire chat history below.
2. For each section in the current game state, identify any new or changed information.
3. Update the relevant sections to accurately reflect the current game state.
4. Ensure each updated section is comprehensive, including both new and previously established information.
5. Use the following XML format for each updated section:

<[Section Name]>
[Updated Content]
</[Section Name]>

Now review and analyze the chat history below:

<chat_history>
{CHAT_HISTORY}
</chat_history>

Remember, your task is to update the current game state, following the instruction above. Make sure to include any game relevant information in the update and incorporate the existing information in a section to write a compressive and detailed update!